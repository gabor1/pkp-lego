

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Matlab Introduction &mdash; PKP Lego Robotics 2.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/lego-designer.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="_static/mathjax-v2.3-9-g78ea6af/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Matlab Reference" href="matlab-reference.html" />
    <link rel="prev" title="LEGO Inventory" href="inventory.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PKP Lego Robotics
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Course Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="inventory.html">LEGO Inventory</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Matlab Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#intermediate-constructs">Intermediate constructs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="matlab-reference.html">Matlab Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolkit-setup.html">EV3 Matlab Toolkit - Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolkit-motors.html">EV3 Matlab Toolkit - Motors Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolkit-sensors.html">EV3 Matlab Toolkit - Sensors Introduction and Low-Pass Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolkit-motors-reference.html">EV3 Matlab Toolkit - Motors Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolkit-sensors-reference.html">EV3 Matlab Toolkit - Sensors Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="pid.html">PID Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="project.html">Project Planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PKP Lego Robotics</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Matlab Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/matlab-intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="matlab-introduction">
<h1>Matlab Introduction<a class="headerlink" href="#matlab-introduction" title="Permalink to this headline">¶</a></h1>
<p>Matlab is a programming language and tool designed specifically for science applications. Mathematical constructs and operations, such as vectors and matrix multiplications, are first-order elements of this language.</p>
<p>You will program your EV3 brick using a custom Matlab extension. But before we get to the EV3-specific commands we’ll look at the core Matlab language first.</p>
<p>Let’s dive straight into it!</p>
<div class="section" id="basics">
<h2>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h2>
<p>The computers provided by the Engineering Department have Matlab installed on them with valid licenses. Note that you won’t be able to install Matlab on your personal computer unless you have your own license.</p>
<p>Matlab gives you an interactive console. Type the following, and observe the results:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span>
</pre></div>
</div>
<p>The result is assigned to a special variable called <code class="docutils literal notranslate"><span class="pre">ans</span></code>. You can define your own variables too:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="p">=</span> <span class="mi">5</span>
<span class="n">y</span> <span class="p">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="nb">ans</span>
<span class="n">z</span> <span class="p">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
</pre></div>
</div>
<p>As we said before, Matlab can also deal with vectors and matrices:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="p">=</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">b</span> <span class="p">=</span> <span class="p">[</span><span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">c</span> <span class="p">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>These were <em>row vectors</em>. You can also create <em>column vectors</em>:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="p">=</span> <span class="p">[</span><span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span><span class="p">]</span>
<span class="n">e</span> <span class="p">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">;</span> <span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>Matlab gives you convenient ways to access both single elements and ranges:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Please note that Matlab, unlike many other languages, uses 1-indexed arrays</strong> i.e. the first element of an array is accessed using <code class="docutils literal notranslate"><span class="pre">array_name(1)</span></code>.</p>
<p>Similarly, you can create matrices and access their elements:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="p">=</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span>
<span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">10</span>
<span class="mi">11</span> <span class="mi">12</span> <span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span><span class="p">]</span>
<span class="n">m</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>    <span class="c">% will show 8</span>
<span class="n">m</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span>    <span class="c">% will show [3; 8; 13]</span>
<span class="n">m</span><span class="p">(</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:)</span>  <span class="c">% will show [6 7 8 9 10; 11 12 13 14 15]</span>
</pre></div>
</div>
<p>When accessing matrix row/columns, <code class="docutils literal notranslate"><span class="pre">:</span></code> without numbers denotes the whole range.</p>
<p>You might have noticed that for everything you type, Matlab echoes the resulting value. You can hide values of intermediate computations by putting a semicolon at the end of your expression:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="p">=</span> <span class="mi">13</span><span class="p">;</span>
<span class="n">b</span> <span class="p">=</span> <span class="mi">21</span><span class="p">;</span>
<span class="n">c</span> <span class="p">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="n">c</span> <span class="o">*</span> <span class="n">c</span>
</pre></div>
</div>
</div>
<div class="section" id="intermediate-constructs">
<h2>Intermediate constructs<a class="headerlink" href="#intermediate-constructs" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">randi(range,</span> <span class="pre">rows,</span> <span class="pre">columns)</span></code> function creates a matrix of size <code class="docutils literal notranslate"><span class="pre">rows</span> <span class="pre">x</span> <span class="pre">columns</span></code> filled with numbers uniformly distributed between <code class="docutils literal notranslate"><span class="pre">1..range</span></code>.</p>
<blockquote>
<div><p><em>Task:</em> Generate a random column vector of size <span class="math notranslate nohighlight">\(100 \times 1\)</span> with the numbers ranging between 1 and 10.</p>
<p><em>Task:</em> Use the <code class="docutils literal notranslate"><span class="pre">size(matrix)</span></code> function to confirm the size of the resulting vector.</p>
</div></blockquote>
<p>In Matlab, it is very easy to create plots. Simply pass in your vector to the <code class="docutils literal notranslate"><span class="pre">plot</span></code> function.</p>
<blockquote>
<div><p><em>Task:</em> Use the <code class="docutils literal notranslate"><span class="pre">plot(vector)</span></code> function to visualise your random vector.</p>
<p><em>Task:</em> Use the <code class="docutils literal notranslate"><span class="pre">grid</span> <span class="pre">on</span></code>, <code class="docutils literal notranslate"><span class="pre">xlabel(label)</span></code>, and <code class="docutils literal notranslate"><span class="pre">ylabel(label)</span></code> functions to customise your graph.</p>
</div></blockquote>
<p>You can use a <em>for loop</em> to iterate through a series of values. For example, the following piece of code displays the numbers from 1 to 100:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">100</span>
  <span class="nb">disp</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>What happens is that the variable <code class="docutils literal notranslate"><span class="pre">i</span></code> takes on the values 1 to 100 in turn, and then the body of the loop (the <code class="docutils literal notranslate"><span class="pre">disp(i)</span></code> command) is executed with each value.</p>
<blockquote>
<div><em>Task:</em> Use a for loop to display each number in your random vector.</div></blockquote>
<p><em>if conditions</em> let you execute different code based on some condition:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">mod</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
  <span class="nb">disp</span><span class="p">([</span><span class="s">&#39;The number&#39;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s">&#39;is even&#39;</span><span class="p">])</span>
<span class="k">else</span>
  <span class="nb">disp</span><span class="p">([</span><span class="s">&#39;The number&#39;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s">&#39;is odd&#39;</span><span class="p">])</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This piece of code tests whether the number <code class="docutils literal notranslate"><span class="pre">x</span></code> is even or odd, and displays some text depending on that. Note how we display strings and numbers together by first converting the number to a string (<code class="docutils literal notranslate"><span class="pre">num2str(x)</span></code>) and then combining the strings into a vector.</p>
<p>Finally, another useful pair of commands is <code class="docutils literal notranslate"><span class="pre">tic</span></code> and <code class="docutils literal notranslate"><span class="pre">toc</span></code>. <code class="docutils literal notranslate"><span class="pre">tic</span></code> resets Matlab’s internal stopwatch, while <code class="docutils literal notranslate"><span class="pre">toc</span></code> outputs its value. Type <code class="docutils literal notranslate"><span class="pre">tic</span></code> and <code class="docutils literal notranslate"><span class="pre">toc</span></code> a few times to observe how it works.</p>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<p>The following exercises require functions that don’t appear in this tutorial. Use Google or the Matlab help to find relevant functions.</p>
<blockquote>
<div><p><em>Task:</em> Generate a random matrix of size <span class="math notranslate nohighlight">\(n \times m\)</span> and visualise it using a heatmap, a 3D plot, or otherwise.</p>
<p><em>Task:</em> Implement a Low-Pass Filter as described in the <a class="reference internal" href="toolkit-sensors.html"><span class="doc">EV3 Matlab Toolkit - Sensors Introduction and Low-Pass Filters</span></a> page.</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="matlab-reference.html" class="btn btn-neutral float-right" title="Matlab Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="inventory.html" class="btn btn-neutral float-left" title="LEGO Inventory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Dr Gábor Csányi, Mr Miklós A Danka

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>